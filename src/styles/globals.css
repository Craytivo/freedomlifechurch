@tailwind base;
@tailwind components;
@tailwind utilities;

html, body { 
  height: 100%; 
  margin: 0;
  padding: 0;
  width: 100%;
  overflow-x: hidden;
  /* Prevent scroll anchoring from snapping the viewport unexpectedly */
  overflow-anchor: none;
}
body { font-family: theme('fontFamily.body'); }

/* Design tokens as CSS variables (light theme by default) */
:root {
  /* Color tokens */
  --bg: 255 255 255;
  --fg: 23 23 23;
  --muted: 115 115 115;
  --border: 229 229 229;
  --brand: 235 167 62; /* flc-500 */
  --brand-foreground: 122 75 14; /* flc-900 */

  /* Elevation */
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.06);
  --shadow-md: 0 8px 24px rgba(0,0,0,0.08);

  /* Radii */
  --radius: 0.75rem;
  --radius-lg: 1rem;
  --radius-xl: 1.25rem;

  /* Fluid type scale using clamp(min, vw, max) */
  --text-xs: clamp(0.78rem, 0.72rem + 0.15vw, 0.875rem);
  --text-sm: clamp(0.9rem, 0.84rem + 0.2vw, 1rem);
  --text-base: clamp(1rem, 0.92rem + 0.35vw, 1.125rem);
  --text-lg: clamp(1.1rem, 1.02rem + 0.45vw, 1.25rem);
  --text-xl: clamp(1.25rem, 1.1rem + 0.8vw, 1.5rem);
  --text-2xl: clamp(1.5rem, 1.2rem + 1.6vw, 2rem);
  --text-3xl: clamp(1.85rem, 1.4rem + 2.6vw, 2.5rem);
  --text-4xl: clamp(2.2rem, 1.6rem + 3.6vw, 3rem);

  /* Fluid spacing */
  --space-1: clamp(0.25rem, 0.2rem + 0.2vw, 0.375rem);
  --space-2: clamp(0.5rem, 0.4rem + 0.3vw, 0.625rem);
  --space-3: clamp(0.75rem, 0.6rem + 0.4vw, 0.875rem);
  --space-4: clamp(1rem, 0.8rem + 0.6vw, 1.25rem);
  --space-6: clamp(1.5rem, 1.2rem + 1vw, 2rem);
  --space-8: clamp(2rem, 1.5rem + 2vw, 3rem);
}


/* Ensure root container elements are full width */
#__next {
  width: 100%;
  min-height: 100vh;
}

/* Smooth scrolling for inâ€‘page anchors */
html {
	scroll-behavior: smooth;
}

/* Prevent sticky header from covering anchor targets */
/* Apply a default scroll margin; components can override with utility classes. */
*:target {
	scroll-margin-top: 5.25rem; /* header ~64px + small gap */
}

/* Hero carousel animations moved from runtime injection to CSS */
@keyframes flameWatermarkFade {
  0%, 100% { opacity: 0.16; }
  50% { opacity: 0.05; }
}

.flame-watermark {
  animation: flameWatermarkFade 5.2s ease-in-out infinite;
}

@keyframes heroCarouselProgress {
  from { transform: scaleX(0); }
  to { transform: scaleX(1); }
}

.hero-progress-anim {
  animation: heroCarouselProgress var(--heroProgDur) linear forwards;
}

/* Baseline, consistent typography */
@layer base {
  html { font-size: 16px; }
  body {
    @apply antialiased;
    color: rgb(var(--fg));
    background-color: rgb(var(--bg));
    line-height: 1.65;
  }
  h1,h2,h3,h4,h5,h6 {
    @apply font-heading text-primary-900 tracking-tight;
  }
  h1 { font-size: var(--text-4xl); font-weight: 800; }
  h2 { font-size: var(--text-3xl); font-weight: 800; }
  h3 { font-size: var(--text-2xl); font-weight: 700; }
  h4 { font-size: var(--text-xl); font-weight: 600; }
  p { color: rgb(var(--fg) / 0.78); }
  a { color: rgb(var(--fg)); text-underline-offset: 2px; }
  a:hover { color: rgb(var(--brand)); }
}

/* Reusable component-level typography helpers */
@layer components {
  .prose-lead { @apply text-neutral-700 text-lg md:text-xl leading-relaxed; }
  .eyebrow { @apply inline-flex items-center px-3 py-1 rounded-full bg-flc-500/10 text-flc-700 text-xs font-semibold uppercase tracking-wider; }
  .meta { @apply text-xs text-neutral-500 tracking-wide; }
  .kicker { @apply text-xs uppercase tracking-[0.12em] font-semibold text-neutral-500; }
  .card { @apply rounded-2xl border border-neutral-200 bg-white/90 backdrop-blur-[2px] ring-1 ring-black/5 shadow-sm; }
  .card-hover { @apply transition-all duration-200 hover:-translate-y-px hover:shadow-lg hover:ring-black/10; }
  .header-edge { @apply relative; }
  .header-edge::after {
    content: "";
    position: absolute;
    left: 0; right: 0; bottom: -1px; height: 1px;
    background: linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.06) 20%, rgba(0,0,0,0.06) 80%, rgba(0,0,0,0) 100%);
    pointer-events: none;
  }

  /* Dark mode removed */
}

@layer utilities {
  .grain {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="140" height="140" viewBox="0 0 140 140"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="1.2" numOctaves="2" stitchTiles="stitch"/></filter><rect width="140" height="140" filter="url(%23n)" opacity=".06"/></svg>');
    background-size: 140px 140px;
  }
  .overlay-gradient {
    /* Accept CSS vars --ov-start, --ov-mid, --ov-end to tint hero/media */
    background: radial-gradient(120% 80% at 20% 0%, rgba(var(--brand),0.18) 0%, rgba(var(--brand),0.06) 30%, rgba(0,0,0,0) 60%),
                linear-gradient(180deg, rgba(0,0,0,0.0) 0%, rgba(0,0,0,0.02) 50%, rgba(0,0,0,0.06) 100%);
  }
}

